<!DOCTYPE html>
<!-- saved from url=(0120)https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/instructions.md.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./instructions.md_files/bo.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="./instructions.md_files/de.css">
  <style type="text/css">/* this file is used for labs on cognitiveclass.ai that were written in markdown */

/* applies to images, i.e. "![]()" in markdown */
img {
  max-width: 100%;
  height: auto;
}

/* add padding and margins */
body {
  padding: 10px;
  margin: 10px;
}

/* applies to tables, i.e. "|--|--|" in markdown */
table td,
table th {
  padding: 0.75rem;
  vertical-align: top;
  border-top: 1px solid #dee2e6;
}

/* applies to using quotes, i.e. ">" in markdown */
blockquote {
  background: #f9f9f9;
  border-left: 10px solid #ccc;
  margin: 1.5em 10px;
  padding: 1em 10px 0.1em 10px;
  quotes: '\201C''\201D''\2018''\2019';
}

/* the headers need some spacing */

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 500;
  padding-top: 20px;
}

/* Add padding between nested list item */
ul > li > ul {
  padding-bottom: 1rem;
}

.code-badge-language {
  display: none;
}
.code-badge-copy-icon {
  background: url('data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhciIgZGF0YS1pY29uPSJjb3B5IiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtY29weSBmYS13LTE0IiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQ0OCA1MTIiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTQzMy45NDEgNjUuOTQxbC01MS44ODItNTEuODgyQTQ4IDQ4IDAgMCAwIDM0OC4xMTggMEgxNzZjLTI2LjUxIDAtNDggMjEuNDktNDggNDh2NDhINDhjLTI2LjUxIDAtNDggMjEuNDktNDggNDh2MzIwYzAgMjYuNTEgMjEuNDkgNDggNDggNDhoMjI0YzI2LjUxIDAgNDgtMjEuNDkgNDgtNDh2LTQ4aDgwYzI2LjUxIDAgNDgtMjEuNDkgNDgtNDhWOTkuODgyYTQ4IDQ4IDAgMCAwLTE0LjA1OS0zMy45NDF6TTI2NiA0NjRINTRhNiA2IDAgMCAxLTYtNlYxNTBhNiA2IDAgMCAxIDYtNmg3NHYyMjRjMCAyNi41MSAyMS40OSA0OCA0OCA0OGg5NnY0MmE2IDYgMCAwIDEtNiA2em0xMjgtOTZIMTgyYTYgNiAwIDAgMS02LTZWNTRhNiA2IDAgMCAxIDYtNmgxMDZ2ODhjMCAxMy4yNTUgMTAuNzQ1IDI0IDI0IDI0aDg4djIwMmE2IDYgMCAwIDEtNiA2em02LTI1NmgtNjRWNDhoOS42MzJjMS41OTEgMCAzLjExNy42MzIgNC4yNDMgMS43NTdsNDguMzY4IDQ4LjM2OGE2IDYgMCAwIDEgMS43NTcgNC4yNDNWMTEyeiI+PC9wYXRoPjwvc3ZnPg==');
  background-size: 100% 100%;
}

.code-badge {
  bottom: 0 !important;
  top: unset !important;
  background: unset !important;
}

.code-badge > .code-badge-check-icon {
  background: green;
}
.code-badge-check-icon {
  font-size: 1.2em;
  cursor: pointer;
  padding: 0 7px;
  background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIiBmb2N1c2FibGU9ImZhbHNlIiBkYXRhLXByZWZpeD0iZmFzIiBkYXRhLWljb249ImNoZWNrIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtY2hlY2sgZmEtdy0xNiIgcm9sZT0iaW1nIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9IiYjMTA7ICAgIGNvbG9yOiAjMmFmZjMyOyYjMTA7Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xNzMuODk4IDQzOS40MDRsLTE2Ni40LTE2Ni40Yy05Ljk5Ny05Ljk5Ny05Ljk5Ny0yNi4yMDYgMC0zNi4yMDRsMzYuMjAzLTM2LjIwNGM5Ljk5Ny05Ljk5OCAyNi4yMDctOS45OTggMzYuMjA0IDBMMTkyIDMxMi42OSA0MzIuMDk1IDcyLjU5NmM5Ljk5Ny05Ljk5NyAyNi4yMDctOS45OTcgMzYuMjA0IDBsMzYuMjAzIDM2LjIwNGM5Ljk5NyA5Ljk5NyA5Ljk5NyAyNi4yMDYgMCAzNi4yMDRsLTI5NC40IDI5NC40MDFjLTkuOTk4IDkuOTk3LTI2LjIwNyA5Ljk5Ny0zNi4yMDQtLjAwMXoiLz48L3N2Zz4=');
  background-size: 100% 100%;
}
</style></head>
  <body>
    <center>
      <img src="./instructions.md_files/la.png" width="300">
    </center>
    <h1>Introduction to Containers, Docker, and IBM Cloud Container Registry</h1>
    <h2>Objectives</h2>
    <p>In this lab, you will:</p>
    <ul>
      <li>Pull an image from Docker Hub</li>
      <li>Run an image as a container using <code>docker</code></li>
      <li>Build an image using a Dockerfile</li>
      <li>Push an image to IBM Cloud Container Registry</li>
    </ul>
    <blockquote>
      <blockquote>
        <p><strong>Note: Kindly complete the lab in a single session without any break because the lab may go on offline mode and may cause errors. If you face any issues/errors during the lab process, please logout from the lab environment. Then clear your system cache and cookies and try to complete the lab.</strong></p>
      </blockquote>
    </blockquote>
    <p>
      <strong>Important:</strong>
      You may already have an IBM Cloud account and may even have a namespace in the IBM Container Registry (ICR). However, in this lab <strong>you will not be using your own IBM Cloud account or your own ICR namespace</strong>. You will be using an IBM Cloud account that has been automatically generated for you for this excercise. The lab environment will <em>not</em> have access to any resources within your personal IBM Cloud account, including ICR namespaces and images.
    </p>
    <h1>Verify the environment and command line tools</h1>
    <ol>
      <li>Open a terminal window by using the menu in the editor: <code>Terminal &gt; New Terminal</code>.</li>
    </ol>
    <blockquote>
      <blockquote>
        <p><strong>Note:If the terminal is already opened, please skip this step.</strong></p>
      </blockquote>
    </blockquote>
    <p>
      <img src="./instructions.md_files/en.png" width="800"><br>
    </p>
    <ol start="2">
      <li>Verify that <code>docker</code> CLI is installed.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ada</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ada">docker <span class="hljs-comment">--version</span>
</code></pre>
    <p></p>
    <p>You should see the following output, although the version may be different:</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/env&amp;cmdlinetools_2.png"><br>
    </p>
    <ol start="3">
      <li>Verify that <code>ibmcloud</code> CLI is installed.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">applescript</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-applescript">ibmcloud <span class="hljs-built_in">version</span>
</code></pre>
    <p></p>
    <p>You should see the following output, although the version may be different:</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/env&amp;cmdlinetools_3.png"><br>
    </p>
    <ol start="4">
      <li>Change to your project folder.</li>
    </ol>
    <blockquote>
      <blockquote>
        <p><strong>Note: If you are already on the '/home/project' folder, please skip this step.</strong></p>
      </blockquote>
    </blockquote>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">gradle</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-gradle">cd <span class="hljs-regexp">/home/</span><span class="hljs-keyword">project</span>
</code></pre>
    <p></p>
    <ol start="5">
      <li>Clone the git repository that contains the artifacts needed for this lab, if it doesn't already exist.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">awk</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-awk">[ ! -d <span class="hljs-string">'CC201'</span> ] &amp;&amp; git clone https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/ibm-developer-skills-network/</span>CC201.git
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/env&amp;cmdlinetools_5.png"><br>
    </p>
    <ol start="6">
      <li>Change to the directory for this lab by running the following command. <code>cd</code> will change the working/current directory to the directory with the name specified, in this case <strong>CC201/labs/1_ContainersAndDcoker</strong>.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">apache</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-apache"><span class="hljs-attribute"><span class="hljs-attribute">cd</span></span> CC<span class="hljs-number"><span class="hljs-number">201</span></span>/labs/<span class="hljs-number"><span class="hljs-number">1</span></span>_ContainersAndDocker/
</code></pre>
    <p></p>
    <ol start="7">
      <li>List the contents of this directory to see the artifacts for this lab.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">ls</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/env&amp;cmdlinetools_6.png"><br>
    </p>
    <h1>Pull an image from Docker Hub and run it as a container</h1>
    <ol>
      <li>Use the <code>docker</code> CLI to list your images.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">docker images</span>
</code></pre>
    <p></p>
    <p>You should see an empty table (with only headings) since you don't have any images yet.</p>
    <p>
      <img src="./instructions.md_files/pu.png"><br>
    </p>
    <ol start="2">
      <li>Pull your first image from Docker Hub.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">docker pull hello-world</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/pullimg_ctr_2.png"><br>
    </p>
    <ol start="3">
      <li>List images again.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">docker images</span>
</code></pre>
    <p></p>
    <p>You should now see the <code>hello-world</code> image present in the table.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/pullimg_ctr_3.png"><br>
    </p>
    <ol start="4">
      <li>Run the <code>hello-world</code> image as a container.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">routeros</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-routeros">docker <span class="hljs-builtin-name">run</span> hello-world
</code></pre>
    <p></p>
    <p>You should see a <strong>'Hello from Docker!'</strong> message.</p>
    <p>There will also be an explanation of what Docker did to generate this message.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/pullimg_ctr_4.png"><br>
    </p>
    <ol start="5">
      <li>List the containers to see that your container ran and exited successfully.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">css</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-css">docker ps -<span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>
</code></pre>
    <p></p>
    <p>Among other things, for this container you should see a container ID, the image name (<code>hello-world</code>), and a status that indicates that the container exited successfully.</p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/pullimg_ctr_5.png"><br>
    </p>
    <ol start="6">
      <li>Note the CONTAINER ID from the previous output and replace the <strong>&lt;container_id&gt;</strong> tag in the command below with this value. This command removes your container.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">xml</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-xml">docker container rm <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">container_id</span></span></span><span class="hljs-tag">&gt;</span></span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/pullimg_ctr_6.png"><br>
    </p>
    <ol start="7">
      <li>Verify that that the container has been removed. Run the following command.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">css</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-css">docker ps -<span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/pullimg_ctr_7.png"><br>
    </p>
    <p>Congratulations on pulling an image from Docker Hub and running your first container! Now let's try and build our own image.</p>
    <h1>Build an image using a Dockerfile</h1>
    <ol>
      <li>The current working directory contains a simple Node.js application that we will run in a container. The app will print a hello message along with the hostname. The following files are needed to run the app in a container:</li>
    </ol>
    <ul>
      <li>app.js is the main application, which simply replies with a hello world message.</li>
      <li>package.json defines the dependencies of the application.</li>
      <li>Dockerfile defines the instructions Docker uses to build the image.</li>
    </ul>
    <ol start="2">
      <li>Use the Explorer to view the files needed for this app. Click the Explorer icon (it looks like a sheet of paper) on the left side of the window, and then navigate to the directory for this lab: <code>CC201 &gt; labs &gt; 1_ContainersAndDocker</code>. Click <code>Dockerfile</code> to view the commands required to build an image.</li>
    </ol>
    <p>
      <img src="./instructions.md_files/do.png" alt="Dockerfile in Explorer">
    </p>
    <blockquote>
      <blockquote>
        <p><strong>You can refresh your understanding of the commands mentioned in the Dockerfile below:</strong><br>The FROM instruction initializes a new build stage and specifies the base image that subsequent instructions will build upon.<br>The COPY command enables us to copy files to our image.<br>The RUN instruction executes commands.<br>The EXPOSE instruction exposes a particular port with a specified protocol inside a Docker Container.<br>The CMD instruction provides a default for executing a container, or in other words, an executable that should run in your container.<br></p>
      </blockquote>
    </blockquote>
    <ol start="3">
      <li>Run the following command to build the image:</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">mipsasm</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-mipsasm">docker <span class="hljs-keyword">build </span>. -t myimage:<span class="hljs-built_in">v1</span>
</code></pre>
    <p></p>
    <p>As seen in the module videos, the output creates a new layer for each instruction in the Dockerfile.</p>
    <p>
      <img src="./instructions.md_files/bu.png"><br>
    </p>
    <ol start="4">
      <li>List images to see your image tagged <code>myimage:v1</code> in the table.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">docker images</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/buildimg_4.png"><br>
    </p>
    <p>Note that compared to the <code>hello-world</code> image, this image has a different image ID. This means that the two images consist of different layers -- in other words, they're not the same image.</p>
    <p>You should also see a <code>node</code> image in the images output. This is because the <code>docker build</code> command pulled <code>node:9.4.0-alpine</code> to use it as the base image for the image you built.</p>
    <h1>Run the image as a container</h1>
    <ol>
      <li>Now that your image is built, run it as a container with the following command:</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">apache</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-apache"><span class="hljs-attribute"><span class="hljs-attribute">docker</span></span> run -dp <span class="hljs-number"><span class="hljs-number">8080</span></span>:<span class="hljs-number"><span class="hljs-number">8080</span></span> myimage:v<span class="hljs-number"><span class="hljs-number">1</span></span>
</code></pre>
    <p></p>
    <p>
      <img src="./instructions.md_files/ru.png"><br>
    </p>
    <p>The output is a unique code allocated by docker for the application you are running.</p>
    <ol start="2">
      <li>Run the <code>curl</code> command to ping the application as given below.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">apache</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-apache"><span class="hljs-attribute"><span class="hljs-attribute">curl</span></span> localhost:<span class="hljs-number"><span class="hljs-number">8080</span></span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/run_img_as_ctr_3.png"><br>
    </p>
    <p>If you see the output as above, it indicates that <strong>'Your app is up and running!'.</strong></p>
    <ol start="4">
      <li>Now to stop the container we use <code>docker stop</code> followed by the container id. The following command uses <code>docker ps -q</code> to pass in the list of all running containers:</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">reasonml</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-reasonml">docker stop <span class="hljs-constructor">$(<span class="hljs-params">docker</span> <span class="hljs-params">ps</span> -<span class="hljs-params">q</span>)</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/run_img_as_ctr_4.png"><br>
    </p>
    <ol start="5">
      <li>Check if the container has stopped by running the following command.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">docker ps</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/run_img_as_ctr_5.png"><br>
    </p>
    <h1>Push the image to IBM Cloud Container Registry</h1>
    <ol>
      <li>The environment should have already logged you into the IBM Cloud account that has been automatically generated for you by the Skills Network Labs environment. The following command will give you information about the account you're targeting:</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">aspectj</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-aspectj">ibmcloud <span class="hljs-keyword">target</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_1.png"><br>
    </p>
    <ol start="2">
      <li>The environment also created an IBM Cloud Container Registry (ICR) namespace for you. Since Container Registry is multi-tenant, namespaces are used to divide the registry among several users. Use the following command to see the namespaces you have access to:</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">ibmcloud cr namespaces</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_2.png"><br>
    </p>
    <p>You should see two namespaces listed starting with <code>sn-labs</code>:</p>
    <ul>
      <li>The first one with your username is a namespace just for you. You have full <em>read</em> and <em>write</em> access to this namespace.</li>
      <li>The second namespace, which is a shared namespace, provides you with only Read Access</li>
    </ul>
    <ol start="3">
      <li>Ensure that you are targeting the region appropriate to your cloud account, for instance <code>us-south</code> region where these namespaces reside as you saw in the output of the <code>ibmcloud target</code> command.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">livecodeserver</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-livecodeserver">ibmcloud <span class="hljs-literal">cr</span> region-<span class="hljs-built_in">set</span> us-south
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_3.png"><br>
    </p>
    <ol start="4">
      <li>Log your local Docker daemon into IBM Cloud Container Registry so that you can push to and pull from the registry.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">ibmcloud cr login</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_4.png"><br>
    </p>
    <ol start="5">
      <li>Export your namespace as an environment variable so that it can be used in subsequent commands.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">routeros</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-routeros"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">MY_NAMESPACE</span>=sn-labs-$USERNAME
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_5.png"><br>
    </p>
    <ol start="6">
      <li>Tag your image so that it can be pushed to IBM Cloud Container Registry.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">crmsh</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-crmsh">docker <span class="hljs-keyword">tag</span> <span class="hljs-title">myimage</span>:v1 us.icr.io/$MY_NAMESPACE/hello-world:<span class="hljs-number">1</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_6.png"><br>
    </p>
    <ol start="7">
      <li>Push the newly tagged image to IBM Cloud Container Registry.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">gradle</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-gradle">docker <span class="hljs-keyword">push</span> us.icr.io<span class="hljs-regexp">/$MY_NAMESPACE/</span>hello-world:<span class="hljs-number">1</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_7.png"><br>
    </p>
    <blockquote>
      <p><strong>Note:</strong> If you have tried this lab earlier, there might be a possibility that the previous session is still persistent. In such a case, you will see a <strong>'Layer already Exists'</strong> message instead of the <strong>'Pushed'</strong> message in the above output. We recommend you to proceed with the next steps of the lab.</p>
    </blockquote>
    <ol start="8">
      <li>Verify that the image was successfully pushed by listing images in Container Registry.</li>
    </ol>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">ebnf</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-ebnf"><span class="hljs-attribute">ibmcloud cr images</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_8.png"><br>
    </p>
    <p>Optionally, to only view images within a specific namespace.</p>
    <pre class="code-badge-pre"><div class="code-badge">
        <div class="code-badge-language">livecodeserver</div>
        <div title="Copy to clipboard">
            <i class="code-badge-copy-icon code-badge-copy-icon"></i>
        </div>
     </div><code class="hljs language-livecodeserver">ibmcloud <span class="hljs-literal">cr</span> images <span class="hljs-comment">--restrict $MY_NAMESPACE</span>
</code></pre>
    <p></p>
    <p>
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/1_ContainersAndDocker/images/push_img_9.png"><br>
    </p>
    <p>You should see your image name in the output.</p>
    <p>Congratulations! You have completed the second lab for the first module of this course.</p>
    <blockquote>
      <p><strong>Note:</strong> Please delete your project from SN labs environment before signing out to ensure that further labs run correctly. To do the same, click on this <a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/cc201/labs/4_IntroOpenShift/oc___snlabs_proj_deletion.md.html?utm_medium=Exinfluencer&amp;utm_source=Exinfluencer&amp;utm_content=000026UJ&amp;utm_term=10006555&amp;utm_id=NA-SkillsNetwork-Channel-SkillsNetworkCoursescc20117568655-2022-01-01">link</a></p>
    </blockquote>
    <h2>Changelog</h2>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Version</th>
          <th>Changed by</th>
          <th>Change Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>2022-04-08</td>
          <td>1.1</td>
          <td>K Sundararajan</td>
          <td>Updated Lab instructions</td>
        </tr>
        <tr>
          <td>2022-04-19</td>
          <td>1.2</td>
          <td>K Sundararajan</td>
          <td>Updated Lab instructions</td>
        </tr>
        <tr>
          <td>2022-08-26</td>
          <td>1.3</td>
          <td>K Sundararajan</td>
          <td>Updated Lab instructions</td>
        </tr>
      </tbody>
    </table>
    <h2></h2>
    <h3 align="center">Â© IBM Corporation 2022. All rights reserved.</h3>
    <h3></h3>
    <script>window.addEventListener('load', function() {
snFaculty.inject();
});</script>
    <script src="https://skills-network-assets.s3.us.cloud-object-storage.appdomain.cloud/scripts/inject.43989f87.js"></script>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.1/highlight.min.js"></script>
    <script src="https://unpkg.com/highlightjs-badge@0.1.9/highlightjs-badge.min.js"></script>
  

<style>
@media print {
   .code-badge { display: none; }
}
    .code-badge-pre {
        position: relative;
    }
    .code-badge {
        display: flex;
        flex-direction: row;
        white-space: normal;
        background: transparent;
        background: #333;
        color: white;
        font-size: 0.875em;
        opacity: 0.5;
        transition: opacity linear 0.5s;
        border-radius: 0 0 0 7px;
        padding: 5px 8px 5px 8px;
        position: absolute;
        right: 0;
        top: 0;
    }
    .code-badge.active {
        opacity: 0.8;
    }

    .code-badge:hover {
        opacity: .95;
    }

    .code-badge a,
    .code-badge a:hover {
        text-decoration: none;
    }

    .code-badge-language {
        margin-right: 10px;
        font-weight: 600;
        color: goldenrod;
    }
    .code-badge-copy-icon {
        font-size: 1.2em;
        cursor: pointer;
        padding: 0 7px;
        margin-top:2;
    }
    .fa.text-success:{ color: limegreen !important }
</style><div id="CodeBadgeTemplate" style="display:none">
    <div class="code-badge">
        <div class="code-badge-language">{{language}}</div>
        <div title="Copy to clipboard">
            <i class="{{copyIconClass}} code-badge-copy-icon"></i>
        </div>
     </div>
</div></body></html>